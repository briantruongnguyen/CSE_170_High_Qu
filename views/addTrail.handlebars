<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
  <title>HighQu</title>

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="/css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="/css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    
    <style>
  #map {
    height: 81.5%;
    position:relative;
  }
        #contactform{
            z-index:5;
            position:absolute;
            width: 90%;
            padding-top: 20%;
            padding-left: 10%;
        }
          #warnings{
            top: 75%;
            left: 5%;
            z-index:6;
            position:absolute;
        }
      #stoprecording{
            width: 100%;
            height: 10%;
        }
   
  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    z-index: 0;
  }
</style>
</head>
<body>
  <nav class="light-green lighten-1" role="navigation">
    <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo">Recording Trail</a>
      <a href="/"><i class="material-icons">backspace</i></a>
    </div>
  </nav>
    
    
    
          <div class="fixed-action-btn click-to-toggle" id = "warnings">
    <a class="btn-floating btn-large blue">
      <i class="material-icons">menu</i>
    </a>
    <ul style="left:-85%; top: -90%;">
      <li><a href="#modalwarning" class="waves-effect btn-floating red"><i class="material-icons">warning</i></a></li>
      <li><a href="#modalmusic" class="waves-effect btn-floating yellow darken-1"><i class="material-icons">library_music</i></a></li>
      <li><a href="#modalpoi" class="waves-effect btn-floating orange darken-1"><i class="material-icons">local_see</i></a></li>

    </ul>
  </div>
    
    
       <div id="map"></div>
    
       <a href="submitTrail" class="btn-large red" id="stoprecording">Stop Recording</a>

    


    
  
     
       
    
    
    <script>
      var map;
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: -34.397, lng: 150.644},
          zoom: 8
        });
       // Try HTML5 geolocation.
                      var infoWindow = new google.maps.InfoWindow({map: map});

            if (navigator.geolocation) {
              navigator.geolocation.getCurrentPosition(function(position) {
                var pos = {
                  lat: position.coords.latitude,
                  lng: position.coords.longitude
              };

              infoWindow.setPosition(pos);
              infoWindow.setContent('Location found.');
              map.setCenter(pos);
          }, function() {
            handleLocationError(true, infoWindow, map.getCenter());
        }, 
        {enableHighAccuracy: true}
                                                      
);
          } else {
              // Browser doesn't support Geolocation
              handleLocationError(false, infoWindow, map.getCenter());
          }
          
          setInterval(recordLocation, 10);
          function recordLocation(){
              if (navigator.geolocation) {
              navigator.geolocation.getCurrentPosition(function(position) {
                var pos = {
                  lat: position.coords.latitude,
                  lng: position.coords.longitude
              };

              infoWindow.setPosition(pos);
              infoWindow.setContent(pos.lat + " , " +pos.lng);
              map.setCenter(pos);
              console.log(pos);
          }, function() {
            handleLocationError(true, infoWindow, map.getCenter());
        });
          } else {
              // Browser doesn't support Geolocation
              handleLocationError(false, infoWindow, map.getCenter());
          }
              
          }

          
        
      }
    </script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDt2_jkQWKuHl6iy02idQyWXAQTGJLx2io&callback=initMap"
    async defer></script>
    
    
   
  <!-- Modal Structure -->
  <div id="modalwarning" class="modal">
    <div class="modal-content">
      <h4>Add a Warning</h4>
      <p>OMG SO DANGEROUS!!!!!</p>
    </div>
    <div class="modal-footer">
      <a href="#!" class=" modal-action modal-close waves-effect waves-red btn-flat">Cancel</a>
      <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Submit</a>
    </div>
  </div>
    
    <!-- Modal Structure -->
  <div id="modalmusic" class="modal">
    <div class="modal-content">
      <h4>Add a Playlist</h4>
      <p>MUCH MUSIC!!!!</p>
    </div>
    <div class="modal-footer">
      <a href="#!" class=" modal-action modal-close waves-effect waves-red btn-flat">Cancel</a>
      <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
    </div>
  </div>
    
  <!-- Modal Structure -->
  <div id="modalpoi" class="modal">
    <div class="modal-content">
      <h4>Add a Point of Interest</h4>
      <p>MUCH INTERESTING!!!</p>
    </div>
    <div class="modal-footer">
      <a href="#!" class=" modal-action modal-close waves-effect waves-red btn-flat">Cancel</a>
      <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
    </div>
  </div>
    
 
    
    
    <!-- Modal Structure 
        on pressing back while recording the trail.  -->
  <div id="modalrecordthenback" class="modal modal-fixed-footer">
    <div class="modal-content">
      <h4>Are you sure?</h4>
      <p>This will quit your current recording.</p>
    </div>
    <div class="modal-footer">
      <a href="index.html" class="modal-action modal-close waves-effect waves-red btn-flat ">No</a>
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Yes</a>
    </div>
  </div>
    
    
    
 
    
    
    


  <!--  Scripts-->
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="/js/materialize.js"></script>
  <script src="/js/init.js"></script>
    
   <script>
      $(document).ready(function(){
    // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
    $('.modal').modal();
         
  });
         
    </script>

  </body>
</html>
